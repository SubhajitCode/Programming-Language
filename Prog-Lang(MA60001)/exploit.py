import sys
import chilkat

#  This example assumes Chilkat SSH/SFTP to have been previously unlocked.
#  See Unlock SSH for sample code.
with open('ip.txt') as f:
    lines = f.readlines()
    print lines

ssh = chilkat.CkSsh()
success = ssh.UnlockComponent("Anything for 30-day trial")

port = 22
success = ssh.Connect("10.3.19.42",port)
if (success != True):
    print(ssh.lastErrorText())
    sys.exit()

#  Authenticate using login/password:
success = ssh.AuthenticatePw("math","math123")
if (success != True):
    print(ssh.lastErrorText())
    sys.exit()

#  Send some commands and get the output.
strOutput = ssh.quickCommand("cd /tmp","ansi")
if (ssh.get_LastMethodSuccess() != True):
    print(ssh.lastErrorText())
    sys.exit()
scp = chilkat.CkScp()
success = scp.UseSsh(ssh)
if (success != True):
    print(scp.lastErrorText())
    sys.exit()

remotePath = "/tmp/test.txt"
localPath = "/tmp/test.txt"
success = scp.UploadFile(localPath,remotePath)
if (success != True):
    print(scp.lastErrorText())
    sys.exit()

print("SCP upload file success.")
